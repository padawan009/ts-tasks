# Секция 1 - Примитивы и преобразования типов

JavaScript изначально создавался, чтобы сделать веб-страницы живыми.
Из-за простоты его использования, он завоевал популярность и его начали
использовать практически на всех платформах. Код JavaScript строится на
скриптах, которые по задумке должны быть не большими и быстрыми.
Разработчики не задумывались, что на JavaScript будут писать приложения
с большим количеством кода. В связи с чем у больших приложений,
написанных на JavaScript возникают проблемы. Вот некоторые из них:

1.  Из-за интерпретируемости языка узнать об ошибке можно только после

    > выполнения кода

2.  Сложность использования практик объектно-ориентированного

    > программирования

3.  Динамическая типизация

Для решения таких проблем был создан язык программирования TypeScript.

JavaScript - это динамически типизированный язык программирования.
TypeScript - строго типизированный. Строгая типизация подразумевает под
собой выполнение следующих условий:

- Объект данных всегда имеет строго определенный тип

- Значение переменной всегда соответствует ее типу

- Функции требуют параметры строго определенных типов

- Неявное преобразование типов не допускается

Пример отличия TypeScript от JavaScript:

```ts
// JavaScript
let name = 'Антон'
name = 100 // тип переменной name изменяется со строки на число - никаких проблем

// TypeScript
let name = 'Антон'
name = 100 // ERROR - тип переменной name не может быть изменен
```

## Типы данных

Как вы уже знаете TypeScript является статически типизированным языком.
Статически типизированный язык, это язык программирования, который имеет
систему типов. Зачем же нужны типы? Типы данных используются для
добавления статических ограничений на программные элементы, такие как
функции, переменные и свойства. Это позволяет компилятору и средствам
разработки осуществлять более тщательную проверку кода и поддержку в
процессе разработки.

Данные в typescript могут быть следующих типов:

- **string** - представляет строковые значения, например, \'Hello World\'

- **number** - предназначен для чисел, например, 42. JS не различает целые числа и числа с плавающей точкой (или запятой), поэтому не существует таких типов, как int или float --- только **number**

- **boolean** - предназначен для двух значений: true и false

- **null и undefined**: соответствуют значениям null и undefined в javascript

> Обратите внимание: типы **String**, **Number** и **Boolean** (начинающиеся с большой буквы) являются легальными и ссылаются на специальные встроенные типы, которые, однако, редко используются в коде. Для типов всегда следует использовать **string**, **number**, **boolean**.

В TypeScript мы можем указывать у переменной нужный нам тип данных с
помощью :type после объявления переменной. Это называется объявлением
типа, или подписью типа.

Например:

```ts
let id: number = 6
let name: string = 'Антон'
let isProgrammer: boolean = true
let age: number // Объявление переменной без присваивания значения
age = 22
```

Однако в большинстве случаев, лучше не указывать тип явно, так как
TypeScript автоматически присваивает тип переменной (вывод типа).

```
    let id = 6; // TS знает, что это число
    let name = 'Антон'; // TS знает, что это строка
    let isProgrammer = true; // TS знает, что это логическое значение
    isProgrammer = 'yes'; // ERROR - TS выдаст ошибку
```

Также мы можем задать переменной объединенное значение. **Объединенный
тип** - это переменная, которой можно присвоить более одного типа.

```ts
let age: string | number
age = 26
age = '26' // TS присвоит строковое значение, так как у переменной age указано 2 возможных типа
```

## Тип Any

В некоторых случаях, если мы не знаем данные какого типа будут присвоены
переменной мы можем использовать тип **any.** При указании этого типа
переменная будет вести себя как и в обычном Javascript.

```
    let age: any = 'Сто лет'; // Присваиваем строковое значение
    age = 100; // Присваиваем числовое значение,
    age = {
        years: 100,
        months: 2,
    }; // Присваиваем объект
```

Рекомендуется по возможности избегать использования типа **any**, т.к.
это не дает TypeScript выполнять свою работу, что может привести к
багам.

## Тип Unknown

Unknown - это еще один тип данных в typescript, который очень похож на
тип any, но отличается своим поведением.

Главное отличие unknown от any связано с проверкой типов. unknown
запрещает выполнять любые операции, но переменную с таким типом можно
проверить на существование с помощью логического оператора:

```
    let value: unknown = 'code-basics';

    value.toUpperCase(); // Error!
    value.trim(); // Error!

    if(value !== undefined) {
    // Выполняем необходимые действия
    }
```

### Когда используется ключевое слово unknown?

**unknown** используется, если неизвестно, какой тип ожидать заранее, но нужно назначить его позже, и если ключевое слово any не будет работать.

## Оператор типа typeof

JS предоставляет оператор **typeof**, который можно использовать в
контексте выражения:

```ts
console.log(typeof 'Привет, народ!') // string
```

В TS оператор **typeof** используется в контексте типа для ссылки на тип
переменной или свойства:

```ts
const s = 'привет'
const n: typeof s
// const n: string
```

**typeof** можно использовать только в отношении идентификаторов
(названий переменных) или их свойств. Это помогает избежать написания
кода, который не выполняется.

## Преобразование типов

Иногда приходится преобразовывать (кастовать) переменную одного типа в
другой тип. Особенно часто это случается, когда переменную типа any (или
другого произвольного типа) нужно передать в функцию, которая принимает
аргумент определённого типа.

Существует много решений этой задачи, но ниже будут описаны два самых
популярных из них.

### Ключевое свойство as

Чтобы кастовать переменную, нужно после оператора as написать тип, в
который переводится переменная.

```ts
let str: any = 'Текстовая переменная'
let strLength = (str as string).length
```

В этом коде текстовая переменная str кастуется в тип String, а поэтому
можно использовать параметр length (это сработает и без кастования, если
есть соответствующее разрешение в настройках TSLINT).

### Оператор \<\>

Выполняет абсолютно такую же работу, что и ключевое слово as.

```ts
let str: any = 'Текстовая переменная'
let strLength = (<string>str).length
```

Этот код работает идентично предыдущему --- разница только
синтаксическая.
